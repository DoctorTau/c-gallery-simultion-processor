# Использование семафоров

## Выполнил

Струдент группы БПИ212: **Шатравка Даниил Александрович**

## Условие задачи

Задача о картинной галерее. Вахтер–процесс следит за тем,
чтобы в картинной галерее одновременно было не более 50 процессов посетителей. Для обозрения представлены 5 картин. Посетитель
случайным образом ходит от картины к картине, и если на картину любуются более чем десять посетителей, он стоит в стороне
и ждет, пока число желающих увидеть картину не станет меньше.
Посетитель может покинуть галерею, когда просмотрит все картины. В галерею также пытаются постоянно зайти новые посетители, которые ожидают своей очереди, если та заполнена. Создать
приложение, моделирующее однодневную работу картинной галереи. Время нахождения возле картины для каждого посетителя является случайной величиной в некотором диапазоне.

## Решение

Для решения задачи использовался язык программирования C.

---

## Общая схема работы для решения задачи на 4-6

Создается 6 семафоров:

1. `gallery_sem` - семафор контролирующий доступ к галерее. Максимальное количество посетителей в галерее - 50.
2. 5 семафров `picture_sem` - семафоры контролирующие доступ к картинам. Максимальное количество посетителей возле картин - 10.

При запуске программы через коммандную строку передается количество писетителей. Далее созданется `n` процессов посетителей с помощью `fork()`.

Посетители пытаются войти в галерею. Войдя в галерею, посетитель уменьшает семафор `gallery_sem` на 1. После этого он выбирает случайную картину и уменьшает семафор `picture_sem` на 1. После этого он увеличивает семафор `gallery_sem` на 1. После этого он увеличивает семафор `picture_sem` на 1. После этого он покидает галерею.

И так пока не закончатся посетители.

## На 4 балла

